#!/bin/bash

POKEMONS=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")

OUTPUT_DIR="pokemon_data"
mkdir -p "$OUTPUT_DIR"

for name in "${POKEMONS[@]}"
do
    echo "Fetching data for $name..."
    response=$(curl -s -w "%{http_code}" -o "$OUTPUT_DIR/${name}.json" "https://pokeapi.co/api/v2/pokemon/$name")
    status="${response: -3}"

    if [ "$status" -eq 200 ]; then
        echo "Saved data to $OUTPUT_DIR/${name}.json ✅"
    else
        echo "❌ Failed to fetch data for $name (HTTP $status)"
        rm -f "$OUTPUT_DIR/${name}.json"
    fi

    sleep 1
done
